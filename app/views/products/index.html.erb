
<% if current_user == nil %>
  <h1>No user</h1>
  <%= button_to "Login/Create User", users_path, method: :get %>
<% elsif current_user != nil %>
  <h1> Hello <%= current_user.email %> </h1>
  <% if current_user.status === 1 %>
    <%= link_to "Affiliate Page", affiliate_path %>
  <% elsif current_user.status === 2 %>
    <%= link_to "Admin Page", admins_path %>
  <% end %>
  <%= button_to "Logout", sessions_path, method: :delete %>
<% end %>

<!-- <input ng-model="search.title" placeholder = "SEARCH PRODUCTS"> -->
<!-- <select ng-model="search.category">
  <option value = "Apparel">Apparel</option>
  <option value = "Tech">Tech</option>
  <option value = "Gadget">Gadgets</option>
  <option value = "Art/Culture">Art/Culture</option>
  <option value = "Essentials">Essentials</option>
  <option value = "Accessories">Accessories</option>
</select> -->
<section ng-controller="ProductsController">

<ul>
  <li ng-repeat="option in sortOptions">{{option.name}}</li>
</ul>

<ul>
  <li ng-repeat="filter in filterOptions.stores">{{filter.name}}</li>
</ul>

<!-- Filter:
<select ng-model="filterItem.store" ng-options="item.name for item in filterOptions.stores">
</select>
Sort:
<select ng-model="sortItem.store" ng-options="item.name for item in sortOptions.stores">
</select> -->

<h4>Filter By: {{filterItem.store.name}}</h4>
<h4>Sort By: {{sortItem.store.name}}</h4>

<div class="container" id='main-content'>
  <!-- <div ng-controller = "ProductsController"> -->
    <div ng-repeat="product in products | orderBy:'price':reverse | filter:customerFilter" ng-if="$index % 3 == 0" class="row">

      <div class="col l4 m12 s12">
        <div class="card">
          <a href="/products/{{products[$index].id}}">
            <div class="card-image">
              <img src="{{products[$index].picture}}" id = "product-image" class = "responsive-img" alt="" />
              <div class="card-title" id = "card-category-title">
                <div style="font-size: 18px; font-weighy: bold; color:white">
                  {{products[$index].title}}
                </div>
                <div style="font-size:16px">
                  ${{products[$index].price}}.00
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>

    <div class = "col l4 m12 s12">
        <div class="card">
          <a href="/products/{{products[$index +1].id}}">
            <div class="card-image">
              <img src="{{products[$index +1].picture}}" id = "product-image" class = "responsive-img" alt="" />
              <div class="card-title" id = "card-category-title">
                <div style="font-size: 18px; font-weighy: bold; color:white">
                  {{products[$index +1].title}}
                </div>
                <div style="font-size:16px">
                  ${{products[$index +1].price}}.00
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>

    <div class="col l4 m12 s12">
        <div class="card">
          <a href="/products/{{products[$index + 2].id}}">
            <div class="card-image">
              <img src="{{products[$index + 2].picture}}" id = "product-image" class = "responsive-img" alt="" />
              <div class="card-title" id = "card-category-title">
                <div style="font-size: 18px; font-weighy: bold; color:white">
                  {{products[$index + 2].title}}
                </div>
                <div style="font-size:16px">
                  ${{products[$index + 2].price}}.00
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
  </div>

  </div>
</section>
